#pragma checksum "C:\Users\a.shimchukevich\source\repos\WebStoreAPI\WebStoreAPI\Views\Admin\Products.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "cbf382b4896007c32d7a41378bfc7f86191c06ac"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Admin_Products), @"mvc.1.0.view", @"/Views/Admin/Products.cshtml")]
[assembly:global::Microsoft.AspNetCore.Mvc.Razor.Compilation.RazorViewAttribute(@"/Views/Admin/Products.cshtml", typeof(AspNetCore.Views_Admin_Products))]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"cbf382b4896007c32d7a41378bfc7f86191c06ac", @"/Views/Admin/Products.cshtml")]
    public class Views_Admin_Products : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        #line hidden
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.HeadTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_HeadTagHelper;
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.BodyTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            BeginContext(0, 25, true);
            WriteLiteral("<!DOCTYPE html>\r\n<html>\r\n");
            EndContext();
            BeginContext(25, 329, false);
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("head", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "55089732e7954fe1ac381c304ba7fa71", async() => {
                BeginContext(31, 316, true);
                WriteLiteral(@"
    <meta charset=""utf-8"" />
    <meta name=""viewport"" content=""width=device-width"" />
    <title>Список пользователей</title>
    <link href=""https://stackpath.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"" rel=""stylesheet"" />
    <script src=""https://code.jquery.com/jquery-2.2.4.min.js""></script>
");
                EndContext();
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_HeadTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.HeadTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_HeadTagHelper);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            EndContext();
            BeginContext(354, 2, true);
            WriteLiteral("\r\n");
            EndContext();
            BeginContext(356, 6263, false);
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("body", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "70caaa05d9604ff7bec7ff8ba7091938", async() => {
                BeginContext(362, 6250, true);
                WriteLiteral(@"
    <h2>Список товаров</h2>
    <form name=""userForm"">
        <input type=""hidden"" name=""id"" value=""0"" />
        <div class=""form-group"">
            <label for=""name"">Имя:</label>
            <input class=""form-control"" name=""name"" />
        </div>
        <div class=""form-group"">
            <label for=""model"">Модель:</label>
            <input class=""form-control"" name=""model"" />
        </div>
        <div class=""form-group"">
            <label for=""type"">Тип:</label>
            <input class=""form-control"" name=""type"" />
        </div>
        <div class=""form-group"">
            <label for=""price"">Цена:</label>
            <input class=""form-control"" name=""price"" />
        </div>
        <div class=""panel-body"">
            <button type=""submit"" class=""btn btn-sm btn-primary"">Сохранить</button>
            <a id=""reset"" class=""btn btn-sm btn-primary"">Сбросить</a>
        </div>
    </form>

    <table class=""table table-condensed table-striped table-bordered"">
        <th");
                WriteLiteral(@"ead><tr><th>Id</th><th>Название</th><th>Модель</th><th>Тип</th><th>Цена</th><th>Действия</th></tr></thead>
        <tbody></tbody>
    </table>

    <script>
        // Получение всех пользователей
        function GetProducts() {
            $.ajax({
                url: '/api/products',
                type: 'GET',
                contentType: ""application/json"",
                success: function (products) {
                    var rows = """";
                    $.each(products, function (index, product) {
                        rows += row(product);
                    })
                    $(""table tbody"").append(rows);
                }
            });
        }
        // Получение одного пользователя
        function GetProduct(id) {
            $.ajax({
                url: '/api/products/' + id,
                type: 'GET',
                contentType: ""application/json"",
                success: function (product) {
                    var form = document.forms[""userFor");
                WriteLiteral(@"m""];
                    form.elements[""id""].value = product.id;
                    form.elements[""name""].value = product.name;
                    form.elements[""model""].value = product.model;
                    form.elements[""type""].value = product.type;
                    form.elements[""price""].value = product.price;
                }
            });
        }
        // Добавление пользователя
        function CreateProduct(productName, productModel, productType, productPrice) {
            $.ajax({
                url: ""api/products"",
                contentType: ""application/json"",
                method: ""POST"",
                data: JSON.stringify({
                    name: productName,
                    model: productModel,
                    type: productType,
                    price: productPrice
                }),
                success: function (product) {
                    reset();
                    $(""table tbody"").append(row(product));
                }");
                WriteLiteral(@"
            })
        }
        // Изменение пользователя
        function EditProduct(productId, productName, productModel, productType, productPrice) {
            $.ajax({
                url: ""api/products"",
                contentType: ""application/json"",
                method: ""PUT"",
                data: JSON.stringify({
                    id: productId,
                    name: productName,
                    model: productModel,
                    type: productType,
                    price: productPrice
                }),
                success: function (product) {
                    reset();
                    $(""tr[data-rowid='"" + product.id + ""']"").replaceWith(row(product));
                }
            })
        }

        // сброс формы
        function reset() {
            var form = document.forms[""userForm""];
            form.reset();
            form.elements[""id""].value = 0;
        }

        // Удаление пользователя
        function DeletePro");
                WriteLiteral(@"duct(id) {
            $.ajax({
                url: ""api/products/"" + id,
                contentType: ""application/json"",
                method: ""DELETE"",
                success: function (product) {
                    $(""tr[data-rowid='"" + product.id + ""']"").remove();
                }
            })
        }
        // создание строки для таблицы
        var row = function (product) {
            return ""<tr data-rowid='"" + product.id + ""'><td>"" + product.id + ""</td>"" +
                ""<td>"" + product.name + ""</td> <td>"" + product.model + ""</td>"" +
                ""</td> <td>"" + product.type + ""</td>"" + ""</td> <td>"" + product.price + ""</td>"" +
                ""<td><a class='editLink' data-id='"" + product.id + ""'>Изменить</a> | "" +
                ""<a class='removeLink' data-id='"" + product.id + ""'>Удалить</a></td></tr>"";
        }
        // сброс значений формы
        $(""#reset"").click(function (e) {

            e.preventDefault();
            reset();
        })

        ");
                WriteLiteral(@"// отправка формы
        $(""form"").submit(function (e) {
            e.preventDefault();
            var id = this.elements[""id""].value;
            var name = this.elements[""name""].value;
            var model = this.elements[""model""].value;
            var type = this.elements[""type""].value;
            var price = this.elements[""price""].value;
            if (id == 0)
                CreateProduct(name, model, type, price);
            else
                EditProduct(id, name, model, type, price);
        });

        // нажимаем на ссылку Изменить
        $(""body"").on(""click"", "".editLink"", function () {
            var id = $(this).data(""id"");
            GetProduct(id);
        })
        // нажимаем на ссылку Удалить
        $(""body"").on(""click"", "".removeLink"", function () {
            var id = $(this).data(""id"");
            DeleteProduct(id);
        })

        // загрузка пользователей
        GetProducts();

    </script>

    <style>
        .form-group {
       ");
                WriteLiteral("     margin: 1%;\r\n            width: 22.5%;\r\n            display: inline-block;\r\n        }\r\n    </style>\r\n");
                EndContext();
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.BodyTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            EndContext();
            BeginContext(6619, 9, true);
            WriteLiteral("\r\n</html>");
            EndContext();
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
